<div class="col-md-2">
  <div class="btn-group filter-button">
    <button type="button" class="btn btn-default filter-button-main" ng-click="collect()">
      <span>Game Filter</span>
    </button>
    <button type="button" class="btn btn-default dropdown-toggle filter-button-dropdown" dropdown-button>
      <span class="caret"></span>
    </button>
    <ul dropdown-target class="dropdown-menu">
      <li ng-click="filter.onlyInclude(allGames)"><a>All Games ({{numberOfGames}})</a></li>
      <li ng-click="filter.onlyInclude(mostRecentGame)"><a>Most Recent Game ({{mostRecentGame.opponentName}})</a></li>
      <li ng-click="filter.onlyInclude(mostRecentTournament)"><a>Last Tournament ({{mostRecentGame.tournamentName}})</a></li>
      <li class="divider"></li>
      <li><a ng-click="collect()">Specific Games</a></li>
    </ul>
  </div>
</div>
<div ng-if="dDOpen">
  <div class="modal-backdrop" ng-click="close()"></div>
  <div >
    <div class="modal-content">
      <div class="widget stacked widget-table">
        <div class="widget-header ">
          <span class="icon-list-alt"></span>
          <h3>Considered Games</h3>
          <span class="icon icon-remove filter-close-icon" ng-click="close()" ng-class="{'icon-hovered': hovered}"></span>
        </div> <!-- .widget-header -->
        <div class="widget-content">
          <div style="text-align: center; padding: 5px;">
            <button class="button btn-primary filter-modal-select-button" ng-click="filter.onlyInclude(allGames)">Select All</button>
            <button class="button btn-primary filter-modal-select-button" ng-click="filter.exclude(allGames)">Deselect All</button>
          </div>
          <div style="height:500px; overflow-y: scroll;">
            <div ng-repeat="games in orderedTournaments track by $index">
              <h2 style="text-align:center;">{{games[0].tournamentName || '-'}}</h2>
              <div ng-repeat="game in games">
                <input type="checkbox" ng-model="value" ng-init="value = isIncluded(game)" ng-click="value = !value; toggleSelect(game, value)">
                <span style="display:inline-block; margin-left:10px;">{{game.opponentName}}</span>
                <span style="float:right;">({{game.msSinceEpoch | date}})</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
