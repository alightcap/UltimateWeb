// Generated by CoffeeScript 1.7.1
'use strict';
angular.module('newBetaApp').controller('PlayerCtrl', function($scope, $routeParams, $q, playerStats, allGames, playerExtensionStats) {
  var init, playerName, players, scope;
  scope = $scope;
  scope.loading = true;
  scope.console = console;
  players = null;
  playerName = decodeURI($routeParams.playerNameUri);
  $q.all([playerStats, allGames, playerExtensionStats]).then(function(responses) {
    playerStats = responses[0];
    allGames = responses[1];
    playerExtensionStats = responses[2];
    init();
    return scope.loading = false;
  });
  return init = function() {
    playerStats.setGames(allGames);
    playerExtensionStats.setGames(allGames);
    playerExtensionStats.setPlayer(playerName);
    scope.player = playerStats.getForPlayer(playerName);
    return scope.targetStats = playerExtensionStats.getTargetMap();
  };
});
